{% extends "gift/layout.html" %}

{% block title %}
    User
{% endblock %}

{% block body %}
  <div class="github">
    <div class="profile-wrapper">
      <div class="profile">
        <img src="{{user.avatar_url}}" alt="user avatar">
        <div class="profile-info">
          <div>
            <!-- <span class="item"> name :</span>   -->
            <span class="badge badge-dark border border-light p-2">{{user.name}}</span>
          </div>
          <div>
            <!-- <span class="item">login :</span>  -->
            <span class="badge badge-dark border border-light p-2">{{user.login}}</span>
          </div>
          {% if user.email %}
          <div>
            <!-- <span class="item"> email :</span>  -->
            <span class="badge badge-dark border border-light p-2">{{user.email}}</span>
          </div>
          {% else %}
          <!-- <div><span class="item"> email :</span> 
            <span class="badge badge-dark border border-light p-2">unknown</span>
          </div> -->
          {% endif %}
          <div>
            <!-- <span class="item mr-3">profile :</span> -->
            <a class="btn btn-light btn-sm" 
            href="{{user.html_url}}" target="_blank">github</a>
          </div>
        </div>
        <div class="profile-bio">
          <div>
            <span class="badge badge-dark border border-light p-2 mb-2">biography</span>
          </div>
          {% if user.bio %}
          {{user.bio}}
          {% else %}
          unknown
          {% endif %}
        </div>
        <div class="profile-followers">
          <div>
            <span class="badge badge-dark border border-light p-2 follow mr-2">Followers</span>
            {{user.followers}}
          </div>
          <div>
            <span class="badge badge-dark border border-light p-2 follow mr-2">Following</span>
            {{user.following}}
          </div>
        </div>
      </div>
    </div>
    <div class="repos-wrapper">
      <h4 class="repos-heading mb-3">Public Repositories - {{user.public_repos}}</h4>
      <div class="repos-header">
        <span class="badge badge-dark p-2 name">Name </span>
        <span class="badge badge-dark p-2 stars">Stars </span>
        <span class="badge badge-dark p-2">Description</span>
        <span class="badge badge-dark p-2">Created</span>
        <span class="badge badge-dark p-2">Updated</span>
      </div>
      <ul class="repos">
        {% for rep in repos %}
        {% if not repos.private %}
        <li>
          <div class="name">
            <a class="badge badge-primary p-2 name" href="{{rep.html_url}} " target="_blank">
              {{rep.name}}
            </a>
          </div>
          <span class="star">
            <div>
              <span class="">&#9733;</span>
              <span class="text-dark">{{rep.stargazers_count}}</span>
            </div>
          </span>
          {% if rep.description %}
          <span class="badge badge-secondary p-2 " data-toggle="tooltip"
          title="{{rep.description}}">about</span>
          {% else %}
          <span class="badge badge-secondary p-2">unknown</span>
          {% endif %}
          <span class="badge badge-info p-2">{{rep.created_at|date:"M d, Y"}}</span>
          <span class="badge badge-info p-2">{{rep.updated_at|date:"M d, Y"}}</span>
        </li>
        {% endif %}
      {% empty %}
      {% endfor %}
      </ul>
    </div>
  </div>
{% endblock %}
{% block scripts %}
<script>
  // document.onload = () => {
  //   const tooltips = document.querySelectorAll('[data-toggle="tooltip"]');
  //   tooltips.forEach(elem => elem.tooltip());
  // }

  $(document).ready(() =>{
    $('[data-toggle="tooltip"]').tooltip()
  });
</script>
{% endblock %}